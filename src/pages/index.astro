---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog')).sort(
	(a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()
);
---

<Layout title="Welcome to Astro.">
	<main>
		{
			posts.map((post) => (
				<li>
					<a href={`${post.slug}`}>
						<img width={720} height={360} src={post.data.heroImage} alt="" />
						<h4 class="title">{post.data.title}</h4>
						<p class="description">{post.data.description}</p>
					</a>
				</li>
			))
		}
	</main>
</Layout>